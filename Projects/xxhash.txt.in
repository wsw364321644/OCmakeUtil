cmake_minimum_required(VERSION 3.24)
include(ExternalProject)
project(project_xxhash)

ExternalProject_Add(xxhash
  GIT_REPOSITORY @GIT_REPOSITORY@
  GIT_TAG @xxHash_TAG@
  SOURCE_SUBDIR "cmake_unofficial"
  CMAKE_ARGS
  -DCMAKE_INSTALL_PREFIX:PATH=<INSTALL_DIR>
  CMAKE_CACHE_ARGS
  -DCMAKE_POLICY_DEFAULT_CMP0091:STRING=NEW 
  -DCMAKE_PREFIX_PATH:STRING=${CMAKE_PREFIX_PATH}
  -DCMAKE_MSVC_RUNTIME_LIBRARY:STRING=@CMAKE_MSVC_RUNTIME_LIBRARY@
  -DXXHASH_BUILD_XXHSUM:BOOL=OFF
  -DBUILD_SHARED_LIBS:BOOL=@BUILD_SHARED_LIBS@
)

# ExternalProject_Add_StepTargets(xxhash install)