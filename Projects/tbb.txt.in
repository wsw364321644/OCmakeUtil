cmake_minimum_required(VERSION 3.24)
include(ExternalProject)
project(project_TBB)

set(OCMAKEUTIL_PROJECTS_PATH @OCMAKEUTIL_PROJECTS_PATH@)
set(CMAKE_PREFIX_PATH @CMAKE_PREFIX_PATH@)
set(CMAKE_MODULE_PATH @CMAKE_MODULE_PATH@)
set(CMAKE_MSVC_RUNTIME_LIBRARY @CMAKE_MSVC_RUNTIME_LIBRARY@)

ExternalProject_Add(TBB
  GIT_REPOSITORY @GIT_REPOSITORY@
  GIT_TAG @oneTBB_TAG@
  CMAKE_ARGS
  -DCMAKE_INSTALL_PREFIX:PATH=<INSTALL_DIR>
  CMAKE_CACHE_ARGS
  -DCMAKE_PREFIX_PATH:STRING=${CMAKE_PREFIX_PATH}
  -DCMAKE_MSVC_RUNTIME_LIBRARY:STRING=${CMAKE_MSVC_RUNTIME_LIBRARY}
  -DBUILD_SHARED_LIBS:BOOL=@BUILD_SHARED_LIBS@
  -DTBB_TEST:BOOL=OFF
  -DTBB_EXAMPLES:BOOL=OFF
)
