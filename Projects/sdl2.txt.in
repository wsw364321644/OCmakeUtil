cmake_minimum_required(VERSION 3.24)
include(ExternalProject)
project(project_sdl2)

set(CMAKE_PREFIX_PATH @CMAKE_PREFIX_PATH@)
set(IMPORT_PROJECT_STATIC @IMPORT_PROJECT_STATIC@)

if(IMPORT_PROJECT_STATIC)
  set(BUILD_SHARED_LIBS OFF)
else()
  set(BUILD_SHARED_LIBS ON)
endif()

ExternalProject_Add(sdl2
  GIT_REPOSITORY @GIT_REPOSITORY@
  GIT_TAG @IMPORT_PROJECT_TAG@
  CMAKE_ARGS
  -DCMAKE_INSTALL_PREFIX:PATH=<INSTALL_DIR>
  CMAKE_CACHE_ARGS
  -DCMAKE_DEBUG_POSTFIX:STRING=d
  -DCMAKE_PREFIX_PATH:STRING=${CMAKE_PREFIX_PATH}
  -DCMAKE_MSVC_RUNTIME_LIBRARY:STRING=@CMAKE_MSVC_RUNTIME_LIBRARY@
  -DSDL_SHARED:BOOL=${BUILD_SHARED_LIBS}
)
